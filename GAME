BLNEM     EQU 95BLSPR     EQU 179          ; START IF MAIN CODEMAIN      SEI          CLD          LDX #255          TXS          LDA #< NMI          STA &FFFA          LDA #> NMI          STA &FFFB          LDA #< RESET          STA &FFFC          LDA #> RESET          STA &FFFD          LDA #%00100101          STA &01          LDA #%10010110 ; BANK 2          STA CIA2          LDA #%01111000 ; &1C00 SCR.          STA VIC+24     ; B.M IN MID.          LDY #0          STY CIA1+2     ; BUG IN RECIEVE          STY BANK+&3FFF          STY BORDER          STY COLOUR0          LDA #127          STA CIA1+13          STA CIA2+13          LDA CIA1+13          LDA CIA2+13          LDA #&60          STA MIKE+1          LDA #&F1          STA MIKE2+1          LDA #&75          STA TEMP+1          LDA #&40          STA TEMP          STA MIKE2          LDX #10          LDY #0          STY MIKE          STY COLBG+1CRAP2     LDA (MIKE2),Y ; PANNEL STORE          STA (TEMP),Y  ; TO SCREEN          LDA (MIKE),Y  ; TITLE SC          STA (MIKE2),Y ; TO STORE          INY          BNE CRAP2          INC MIKE2+1          INC MIKE+1          INC TEMP+1          DEX          BNE CRAP2SHOPAN    LDA &FC00+&000,Y  ; NYBBLE          STA &D800+&2A8,Y          LDA &D800+&000,Y          AND #%00001111          STA &FC00+&000,Y          LDA &FD40+&000,Y  ; SCREEN          STA &5C00+&2A8,Y          LDA &5C00+&000,Y          STA &FD40+&000,Y          INY          BNE SHOPANRESTOF    LDA &FC00+&100,Y   ; NYBBLE          STA &D800+&3A8,Y          LDA &D800+&100,Y          AND #%00001111          STA &FC00+&100,Y          LDA &FD40+&100,Y   ; SCREEN          STA &5C00+&3A8,Y          LDA &5C00+&100,Y          STA &FD40+&100,Y          LDA &F140+&A00,Y          STA &7540+&A00,Y          INY          CPY #&40          BNE RESTOFLITTLEEX  LDA &F140+&A00,Y          STA &7540+&A00,Y          INY          CPY #&C0          BNE LITTLEEX          CLIHERE      LDY #HERE-MAIN          LDA #0LOOSE     STA MAIN,Y          DEY          BNE LOOSEAGAIN     JSR SCREENOFF          LDA #0        ; PANNEL          STA TURNOF2+1 ; SPRITES OFF          STA SPRIT+1   ; VIC+21          SEI          LDA #< FIRST          STA &FFFE          LDA #> FIRST          STA &FFFF          LDA #1          STA VIC+25          STA VIC+26          LDA #108          STA RASTER          CLI          JSR CLE          LDA #%00010000          JSR CLEAR          JSR NEMTEXT          JSR CREDITS          JSR SCREENON          JSR TUNEON          JSR WAIT_FIRE          JSR TUNEOFF          LDA #0          JSR FLUSH          LDA #1          JSR FLUSH          LDA #2          JSR FLUSH          LDA #0          STA Y+0          STA Y+1          STA Y+2          STA Y+3          STA Y+4          SEI          LDA #< IRQ          STA &FFFE          LDA #> IRQ          STA &FFFF          CLI          JSR SCREENOFF          JSR SETHIRES          LDA #%01110000          JSR CLEAR          JSR PSCROLL          LDA #0          JSR PTEXT          JSR SCREENON          JSR WAIT_FIRE          JSR SETUP          JSR PLAYGAME          JMP AGAINNEMTEXT   LDA #&60          STA MIKE+1          LDA #&F1          STA MIKE2+1          LDA #&40          STA MIKE2          LDX #8          LDY #0          STY MIKE          STY COLBG+1CRAP      LDA (MIKE2),Y          STA (MIKE),Y          INY          BNE CRAP          INC MIKE2+1          INC MIKE+1          DEX          BNE CRAP          LDY #&BFLASTB     LDA &F140+&800,Y          STA &6000+&800,Y          DEY          CPY #255          BNE LASTB          INYMOVSCRE   LDA &FC00,Y  ; SCREEN          STA &D800,Y          LDA &FD40,Y  ; NYBBLE          STA &5C00,Y          INY          BNE MOVSCRERESTOF2   LDA &FD00,Y   ; SCREEN          STA &D900,Y          LDA &FE40,Y   ; NYBBLE          STA &5D00,Y          INY          CPY #&18          BNE RESTOF2          RTSWAIT_FIRE JSR JOYSTICK          LDA FIRE          BEQ WAIT_FIRELET_GO    JSR JOYSTICK  ; MAY NOT NEED          LDA FIRE          BNE LET_GO          RTSSCREENON  LDA SCON+1          ORA #%00010000          STA SCON+1          LDA SCOF+1          ORA #%00010000          STA SCOF+1          LDA SCRON+1          ORA #%00010000          STA SCRON+1          RTSSCREENOFF LDA SCON+1          AND #%11101111          STA SCON+1          LDA SCOF+1          AND #%11101111          STA SCOF+1          LDA SCRON+1          AND #%11101111          STA SCRON+1          RTSSETMULTI  LDA COLMODET+1          ORA #%00010000          STA COLMODET+1          LDA SCOF+1          AND #%11110111          STA SCOF+1          RTSSETHIRES  LDA COLMODET+1          AND #%11101111          STA COLMODET+1          LDA SCOF+1          ORA #%00001000          STA SCOF+1          LDA #0          STA COLBG+1          RTS          ; SETUP FOR EACH NEW GAMESETUP     LDA #0          STA LEVEL          LDA #0          STA SCOREV+0          STA SCOREV+1          STA SCOREV+2          LDA #1        ; FLAMES          STA BREATH          LDA #14          STA NEWX          LDA #17*8          STA NEWY          RTS          ; SETUP FOR EACH NEW SCREENNEWSCREEN JSR SCREENOFF          JSR SETMULTI          LDA #144      ; SEEDED          STA SEED+0    ; FOR          LDA #164      ; ENEMY          STA SEED+1    ; MOVEMENT          LDA #23          STA SEED+2          LDA #60          STA SEED+3          LDA #76       ; BRING          STA SEED+4    ; ON          LDA #90       ; TORQ          STA SEED+5    ; FACE          LDA #100          STA SEED+6          LDA #43          STA SEED+7          LDA #BLNEM       ; BLANK          STA SIDEB+0   ; NEMESIS GUN          LDA #BLSPR          STA SIDEB+1   ; ENEMY'S          STA SIDEB+2   ; GUN          JSR SETB          LDA #0          STA SIDEY+1   ; AT TOP          STA SIDEY+2   ; OF ALIEN SPR          STA ENERGY          STA BULLETS          STA SEEDP     ; SEED POINTER          LDY LEVEL     ; AMOUNT TO          LDA HOWMANY,Y ; KILL FOR          ;LDA #2        ; C&VG DEMO          STA TOKILL    ; EACH NEW          LDA #%00010000          JSR CLEAR     ; CLS          JSR CLE       ; WIPE TORQ.          JSR CLEARSPR  ; WIPE SPRITES          JSR DISPL     ; LEVEL PLOT          LDA #255      ; PANNEL          STA TURNOF2+1 ; SPRITES ON          LDY LEVEL          LDA COLTAB,Y          STA COLBG+1          LDA EXITTAB,Y          STA EXIT          LDA TOPYTAB,Y          STA TOPY          LDA NEWX          STA X+0          LDA NEWY          STA Y+0          LDA #0          STA COUNT+0          STA FACE          STA DIRECTION+0          LDA #1          STA ACTION+0          LDA TORQDEL,Y          STA SEEDC     ; COUNTER          STA SEEDD+1   ; SMC          JMP SCREENONSETB      LDY #4SETB2     LDA #0          STA FRAME,Y          STA WBULLET,Y          STA TOGGLE,Y  ; 0 1 FRAME          LDA #12       ; FALL DOWN          STA ACTION,Y          DEY          BPL SETB2          LDA #0          STA WBULLET+5          RTSDEAD1     JSR ALLOFF          LDA #%01110000          JSR CLEAR          BIT DIRECTION+0          BPL FACRIY          LDA X+0          SEC          SBC #12          JMP STTIDFACRIY    LDA X+0          CLC          ADC #12STTID     STA SIDEX+0          LDA #%11111111          STA TURNOF2+1          STA SPRIT+1          LDA #84          LDX #0          JSR PLOTNEM          LDA #86          LDX #5          JSR PLOTNEM          LDA #85          LDX #10          JSR PLOTNEM          LDA #0          STA ENERGY          JSR SCREENONPLENTY3   LDA #64+7          STA FG2          LDA #25          STA TEMPPLENTY4   LDA Y+0          CLC          ADC #6          CMP #18*8          BCS ENDOFSY          STA Y+0          LDA ENERGY          CLC          ADC #10          CMP #56*4          BCC OKS5          LDA #00OKS5      STA ENERGY          JSR DELAY          LDA SYNCSMOOT     CMP SYNC          BEQ SMOOT          DEC TEMP          BNE PLENTY4          BEQ PLENTY3ENDOFSY   LDA #2          JMP FLUSHDEAD2     BIT DIRECTION+0          BPL FACRIYU          LDA X+0          SEC          SBC #12          JMP STTIDUFACRIYU   LDA X+0          CLC          ADC #12STTIDU    STA SIDEX+0          LDA #84          LDX #0          JSR PLOTNEM          LDA #86          LDX #5          JSR PLOTNEM          LDA #85          LDX #10          JSR PLOTNEM          LDA #0          STA ENERGYPLENT2    LDA #64+7          STA FG2          LDA #25          STA TEMPPLENTY    JSR JOYSTICK          LDA FIRE          BNE ENDOFS          LDA Y+0          SEC          SBC #1          BEQ ENDOFS          STA Y+0          LDA ENERGY          CLC          ADC #10          CMP #56*4          BCC OKS          LDA #00OKS       STA ENERGY          JSR DELAY          LDA SYNCSMOO      CMP SYNC          BEQ SMOO          DEC TEMP          BNE PLENTY          BEQ PLENT2ENDOFS    LDA #2          JMP FLUSHPAUSE     LDA &DC01          CMP #223          BNE NPAUSELETGO     LDA &DC01          CMP #223          BEQ LETGOPAUSE2    LDA &DC01          CMP #223          BNE PAUSE2LETGO2    LDA &DC01          CMP #223          BEQ LETGO2NPAUSE    RTSPLAYGAME  JSR NEWSCREEN          JSR WALKR    ; MOVE YOU A BIT          JSR ALIENS   ; FIRST SHOW          LDA #%11111111          STA SPRIT+1STALIVE   JSR PAUSE          JSR MANYOF          LDA Y          CMP #18*8          BCC BURPTUFLUCK   JSR DEAD1     ; MOVE DOWN          JSR ALLOFF          LDA #1        ; FALL IN          JSR PTEXT     ; PIT          JSR SCREENON          JSR WAIT_FIRE          JMP ENDOFSBURP      LDA ENERGY          CMP #56*4     ; ???          BCS COPDIT          LDA TOKILL          BNE STALIVE          JMP DONESCCOPDIT    JSR DEAD2     ; MOVE UP SCR          JSR ALLOFF          LDA #3          JSR PTEXT          JSR SCREENON          LDA #64+6          STA FG0          LDA #64+12          STA FG1          LDA #4          STA TEMP+1          LDA #0          STA TEMP          LDA #1        ; HOW MANY          STA SEEDC          STA SEEDD+1FACEP     JSR TORQ          DEC TEMP          BNE FACEP          DEC TEMP+1          BNE FACEP          LDA #0          JSR FLUSH          LDA #1          JSR FLUSH          JMP WAIT_FIREBODGE     DB 0          ; 0 LEFT 1 RIGHT 2 UP 3 DOWNDONESC    LDA #0          STA ENERGY          STA BODGEDONESC2   JSR PAUSE          JSR MANYOF          LDA BODGE          EOR #1          STA BODGE          CLC          ADC ENERGY          CMP #56*4          BCC OKSR          BCS COPDITOKSR      STA ENERGY          LDA Y          CMP TOPY          BNE NAT          LDX #2          JMP GOTHYNAT       CMP #18*8          BCC TRX          LDX #3        ; IF EXIT NOT          CPX EXIT      ; BOTTOM YOUR          BEQ GOTHY     ; DEAD          JMP TUFLUCKTRX       LDA X          CMP #12          BNE OTHEE          LDX #0          JMP GOTHYOTHEE     CMP #159          BNE NOWHR          LDX #1          JMP GOTHYNOWHR     LDX #5GOTHY     CPX EXIT          BNE DONESC2          CPX #0          BNE FROG1          LDA Y+0          STA NEWY          LDA #148+12          STA NEWX          BNE PLOPFROG1     CPX #1          BNE NEWWY          LDA Y+0          STA NEWY          LDA #14          STA NEWX          BNE PLOPNEWWY     CPX #2          BNE TOPIC          LDA X+0          STA NEWX          LDA #16*8          STA NEWY          BNE PLOPTOPIC     LDA X+0          STA NEWX          LDA #8          STA NEWYPLOP      LDA #101          STA COUNT+6          JSR ALLOFFADDTOSC   LDA #&10      ; BONUS 1000          JSR SADD          DEC COUNT+6          BNE ADDTOSC          LDA BREATH   ; 0 TO 9 ONLY          CLC          ADC #1          CMP #3          BCS NOMORE          STA BREATHNOMORE    LDA LEVEL          CLC          ADC #1          CMP #22      ; LOTS OF          BCC HOMANY          LDA #4       ; MEGA GOOD          JSR PTEXT          JSR SCREENON          JMP WAIT_FIREHOMANY    STA LEVEL    ; AT THIS GAME          LDA #2          JSR PTEXT          JSR SCREENON          JSR WAIT_FIRE          JMP PLAYGAMEALLOFF    JSR SCREENOFF          LDA #0        ; PANNEL          STA TURNOF2+1 ; SPRITES OFF          STA SPRIT+1   ; VIC+21          STA COLBG+1   ; BACKG COLOUR          STA Y+0          STA Y+1          STA Y+2          STA Y+3          STA Y+4          JSR CLE          LDA #%01110000          JSR CLEAR          JSR SETHIRES          JMP PSCROLL          ; ***********************MANYOF    JSR JOYSTICK          JSR MOVEYOU          JSR ALIENS          JSR BULLOFF  ; CHECK          JSR BULLON          JSR TORQ     ; HIS FACE          ;LDA X          ;STA SCOREV+2          ;LDA Y          ;STA SCOREV+1          ;LDA FACE          ;STA SCOREV+0          JSR PANNELS  ; NEW SCORE          ; BULLETS BREATH TOKILL          ; HOW BODGY !!!!!!!!!!DELAY     LDA SYNCSK1       CMP SYNC          BEQ SK1          LDA SYNCSK2       CMP SYNC          BEQ SK2          RTSACTTABL   DB < WALK     ; 0          DB < FALL     ; 1          DB < JUMP     ; 2          DB < DUCK     ; 3          DB < BANG     ; 4          DB < UBANG    ; 5          DB < DBANG    ; 6          DB < SWIPE    ; 7          DB < USWIPE   ; 8          DB < DSWIPE   ; 9          DB < DIE      ; 10          DB < SPIT     ; 11ACTTABH   DB > WALK  ; MISTER COOL          DB > FALL  ; DOWN NNNNnnn          DB > JUMP  ; UP UP & AWAY          DB > DUCK  ; HOWZAT !!!!          DB > BANG  ; READY TO SHOOT          DB > UBANG ; WAIT FOR FIRE          DB > DBANG ; DO A FIRE          DB > SWIPE ; SWING SWORD          DB > USWIPE; WAIT FOR FIRE          DB > DSWIPE; DO A SWIPE          DB > DIE   ; DROP DEAD PUNK!          DB > SPIT  ; THE DOG ??MOVEYOU   LDY ACTION          LDA ACTTABL,Y          STA SOMETHING+1          LDA ACTTABH,Y          STA SOMETHING+2SOMETHING JSR &FFFF          LDA ACTION          CMP #11          BNE TTFNTTFN2     JMP IGNORTHTTFN      CMP #0          BNE TTFN2          LDA &DC01          CMP #239          BNE NOSP          LDA X+0          BIT DIRECTION          BMI FACLLE          CMP #148+12          BCS NOSP          BCC OKYFACLLE    CMP #12          BCC NOSPOKY       LDA BREATH          BEQ NOSP          SEC          SBC #1          STA BREATH    ; 3M          LDA #11          STA ACTION          LDA DIRECTION          STA BREATHD   ; DIRECTION          LDA #0          STA BREATHF   ; FRAME          LDA #7          STA SIDEC+1          JMP IGNORTHNOSP      LDA ACTION          BNE CHFIR          LDA DOWN          BEQ CHFIR          LDA #0          STA COUNT          LDA #3        ; DUCK          STA ACTION          BNE SKIPCHFIR     LDA FIRE          BEQ NRTH          LDA ACTION    ; FIRST          BNE NRTH      ; FIRE          LDA BULLETS   ; NO MORE          BEQ NONLEF    ; NO AMO LEFT          LDA #4        ; READY FIRE          DB &2CNONLEF    LDA #7        ; READY SWIPE          STA ACTION          LDA #0          STA COUNTNRTH      LDA UP          BEQ SKIP          LDA ACTION    ; IF WALKING          BNE SKIP          LDA #2        ; JUMP ACTION          STA ACTION          LDA #0          STA COUNTSKIP      BIT DIRECTION+0          BPL FACRI          LDA X+0          SEC          SBC #12          JMP STTIFACRI     LDA X+0          CLC          ADC #12STTI      STA SIDEX+0          LDA #12       ; SPRITE          STA SIDEC+1   ; COLOURIGNORTH   LDX #0          LDA SPRITEV0          JSR PLOTNEM          LDX #5          LDA SPRITEV1          JSR PLOTNEM          LDX #10          LDA SIDEB+0          JMP PLOTNEMSPIT      LDY BREATHF          LDA SPITT,Y          STA SIDEB+0          INY          CPY #7          BNE PLEN          LDY #0PLEN      STY BREATHF          LDA SIDEX+0          BIT BREATHD          BMI LEFTFF          CLC          ADC #4          CMP #148+12          BCS TAKEOF          BCC HITWHATLEFTFF    SEC          SBC #4          CMP #12          BCC TAKEOFHITWHAT   STA SIDEX+0          LDA Y+0          CLC          ADC #8          STA YTEMP          LDY #4THELOT    JSR DETECTI6          DEY          BNE THELOT          JMP WALKYOUTAKEOF    LDA #BLNEM          STA SIDEB+0          LDA #0          STA ACTIONVIDCOM    RTSDETECTI6  JSR DETECTIO6          BCC VIDCOM          LDA ACTION,Y          CMP #8          BEQ ZOMBEEEE          CMP #4        ; IF DOING          BCS VIDCOM    ; THESE          LDA #&20      ; 20 TO SCORE          JSR SADD          ; SOUND EFFECTS          SED          LDA TOKILL          SEC          SBC #1          BCC AMOATN5          STA TOKILLAMOATN5   CLD          LDA DIRECTION+0,Y          CMP DIRECTION+0          BNE GOODONE5          EOR #255          STA DIRECTION+0,YGOODONE5  LDA #4        ; WARRIOR DIESDER      STA ACTION+0,Y          LDA #0          STA COUNT+0,Y          STA HITS-1,Y          RTSZOMBEEEE  LDA #&40      ; 20 TO SCORE          JSR SADD          ; SOUND EFFECTS          LDA DIRECTION+0,Y          EOR #-1          STA DIRECTION+0,Y          LDA #9        ; ZOMBIE DIE          JSR SDER          JMP TAKEOFDETECTIO6 LDA SIDEX+0          CMP X,Y       ; SOTWARE          BCC LESSTHANA          LDA X,Y          CLC          ADC #12       ; PIXELS X          CMP SIDEX+0          BCS GREATERANO_HITA   RTSLESSTHANA ADC #12        ; PIXELS X          CMP X,Y          BCC NO_HITAGREATERA  LDA YTEMP          CMP Y,Y          BCC LESSTHANB          LDA Y,Y          CLC   ;  6          ADC #42-6     ; PIXELS Y          CMP YTEMP          RTSLESSTHANB ADC #6        ; PIXELS Y          CMP Y,Y          RTS          ; DIRECTION=0 FACEING RIGHT          ; ACTION 0WALK      JSR WALKYOU          JSR WHERE     ; CHECK          BNE TELL          LDY #0        ; FALL DOWN          STY COUNT          INY          STY ACTIONTELL      RTSWALKYOU   LDA RIGHT          BEQ LIVE          BIT DIRECTION          BPL ALRSET          INC DIRECTIONALRSET    JMP WALKRLIVE      LDA LEFT          BEQ TELL          BIT DIRECTION          BMI ALRSET2          DEC DIRECTIONALRSET2   JMP WALKLWALKR     LDA FRAME          CLC          ADC #1          CMP #10          BCC SM          LDA #0SM        STA FRAME          TAY          LDA WALKSTT,Y          STA SPRITEV0          LDA WALKSTB,Y          STA SPRITEV1          LDA X          CLC          ADC WALKTAB,Y          CMP #148+12          BCS SMER          STA XSMER      RTSWALKL     LDA FRAME          CLC          ADC #1          CMP #10          BCC SM2          LDA #0SM2       STA FRAME          TAY          LDA WALKSTT,Y          STA SPRITEV0          LDA WALKSTB,Y          STA SPRITEV1          LDA X          SEC          SBC WALKTAB,Y          CMP #12          BCC SMER2          STA XSMER2     RTS          ; ACTION 1FALL      LDY COUNT          LDA Y          CLC          ADC DROPTAB,Y          STA SPARE          CMP #2*8     ; 19          BCC NOYET          CMP #18*8          BCS NOYET          JSR LOOKUP    ; SEE IF NEW          CMP #255          BNE NOYET          LDA SPARE          AND #&F8          STA Y          LDA #0        ; BACK TO          STA ACTION    ; WALKING          RTSNOYET     LDA SPARE          STA Y          INC COUNT          JMP WALKYOU          ; ACTION 2JUMP      LDY COUNT          LDA Y          SEC          SBC JUMPTAB,Y          STA Y          INC COUNT          LDA COUNT          CMP #8          BNE SWARVE          LDA #1        ; FALL          STA ACTION          STA COUNT          RTSSWARVE    JMP WALKYOU          ; ACTION 3DUCK      LDY COUNT          LDA DUCKSTT,Y          STA SPRITEV0          LDA DUCKSTB,Y          STA SPRITEV1          LDA DOWN          BEQ BACKUP          INY          CPY #3          BEQ TRYPICKUPAGA     STY COUNT          RTSBACKUP    DEY          BPL UPAGA          LDA #0          STA ACTIONFUDGE     RTSTRYPICK   JSR WHERE          LDA MIKE2          SEC          SBC #40          STA MIKE2          LDA MIKE2+1          SBC #0          STA MIKE2+1          LDA (MIKE2),Y          CMP #128          BNE FUDGE          LDA #64+2     ; BEEP          STA FG2          LDA #0          STA (MIKE2),Y          LDA Y+0          LSR A          LSR A          LSR A          TAY          DEY          DEY          LDA X+0          SEC          SBC #12          LSR A          LSR A          TAX          JSR MEMXY          LDY #15          LDA #0WIPEH     STA (TEMP),Y          DEY          CPY #8          BNE WIPEH          LDA #&12          STA BULLETS          RTS          ; ACTION 4BANG      LDY COUNT          LDA BANGSTT,Y          STA SPRITEV0          LDA BANGSTB,Y          STA SPRITEV1          LDA BANGSTS,Y          STA SIDEB+0          INY          CPY #6          BEQ NEXMOV          STY COUNT          RTS          ; ACTION 5UBANG     LDA FIRE          BNE FER          LDA DOWN          ORA RIGHT          ORA LEFT          BNE BACKTOW          RTSFER       LDA BULLETS   ; NO MORE          BNE AMOL      ; AMO LEFT          LDA #7        ; SWIPE          STA ACTION          LDA #0          STA COUNTSORP      RTSAMOL      LDA WBULLET+0 ; IF ONE ON          BEQ THISN          LDA WBULLET+5 ; OR MORE ON          BNE SORP      ; SCREENTHISN     SED          LDA BULLETS          SEC          SBC #1          BCC AMOATN          STA BULLETS  ; PONYAMOATN    CLD          LDA #6          STA ACTION          LDA #0          STA COUNT          RTS          ; ACTION 6DBANG     LDY COUNT          LDA BANGSTT+5,Y          STA SPRITEV0          LDA BANGSTB+5,Y          STA SPRITEV1          LDA BANGSTS+5,Y          STA SIDEB+0          INY          STY COUNT          CPY #5          BEQ NEXMOV          CPY #2          BNE MOJO          LDA #64+8          STA FG0          LDA #64+12          STA FG1          JMP DOBULLBACKTOW   LDA #BLNEM       ; BLANK          STA SIDEB+0          LDA #0        ; WALKING          STA ACTION          JMP WALKYOUNEXMOV    LDA #5        ; WAIT FIRE          STA ACTIONMOJO      RTS          ; ACTION 7SWIPE     LDY COUNT          LDA SWIPESTT,Y          STA SPRITEV0          LDA SWIPESTB,Y          STA SPRITEV1          LDA SWIPESTS,Y          STA SIDEB+0          INY          CPY #8          BEQ NEXMOY          STY COUNT          RTSNEXMOY    LDA #8          STA ACTION          RTS          ; ACTION 8USWIPE    LDA FIRE          BNE FER2          LDA LEFT          ORA RIGHT          ORA DOWN          BNE BACKTOW          RTSFER2      LDA #9          STA ACTION          LDY #0          STY COUNTCANTW     RTS          ; ACTION 9DSWIPE    LDY COUNT          LDA SWIPESTT+7,Y          STA SPRITEV0          LDA SWIPESTB+7,Y          STA SPRITEV1          LDA SWIPESTS+7,Y          STA SIDEB+0          INY          STY COUNT          CPY #8          BEQ NEXMOY          CPY #2        ; 3          BEQ VAMP          CPY #5          BNE CANTW          LDA #64+0          STA FG2          RTSVAMP      LDA #64+0     ; SWISH          STA FG2          LDA Y+0          CLC          ADC #18          STA YTEMP          LDY #1          JSR DETECTIO2          BCS HITIT2          INY           ; 2          JSR DETECTIO2          BCS HITIT2          INY           ; 3          JSR DETECTIO2          BCS HITIT2          INY           ; 4          JSR DETECTIO2          BCC CANTWHITIT2    LDA #64+1     ; SQUELCH 1          STA FG0          LDA #64+13    ; ??????          STA FG1          LDA ACTION,Y          CMP #8          BEQ ZOMBEEE          CMP #4        ; IF DOING          BCS SLAG      ; THESE          LDA HITS-1,Y  ; WHAT ONE          CLC          ADC #1          CMP #1        ; 2 HITS          BCS ITSDEAD2   ; FOR WARRIORSTOK3     STA HITS-1,YSLAG      RTSITSDEAD2  LDA #&20      ; 20 TO SCORE          JSR SADD          ; SOUND EFFECTS          SED          LDA TOKILL          SEC          SBC #1          BCC AMOATN3          STA TOKILLAMOATN3   CLD          LDA DIRECTION+0,Y          CMP DIRECTION+0          BNE GOODONE2          EOR #255          STA DIRECTION+0,YGOODONE2  LDA #4        ; WARRIOR DIETIOF3     STA ACTION+0,Y          LDA #0          STA HITS-1,Y          STA COUNT+0,Y          RTSZOMBEEE   LDA HITS-1,Y          CLC          ADC #1          CMP #4        ; 4 HITS          BCC STOK3     ; FOR ZOMBIE          LDA #&40      ; 20 TO SCORE          JSR SADD          LDA DIRECTION+0,Y          EOR #-1          STA DIRECTION+0,Y          LDA #9        ; ZOMBIE DIE          BNE TIOF3DETECTIO2 LDA SIDEX+0          CMP X,Y       ; SOTWARE          BCC LESSTHAN3          LDA X,Y          CLC          ADC #12       ; PIXELS X          CMP SIDEX+0          BCS GREATER3NO_HIT2   RTSLESSTHAN3 ADC #12        ; PIXELS X          CMP X,Y          BCC NO_HIT2GREATER3  LDA YTEMP          CMP Y,Y          BCC LESSTHAN4          LDA Y,Y          CLC   ;  6          ADC #42-7     ; PIXELS Y          CMP YTEMP          RTSLESSTHAN4 ADC #1        ; PIXELS Y          CMP Y,Y          RTS          ; ACTION 6DIE       LDY COUNT          LDA DIESTT,Y          STA SPRITEV0          LDA DIESTB,Y          STA SPRITEV1          INY          CPY #8          BEQ NEXMOV3          STY COUNTFLIP      RTSNEXMOV3   LDA #0        ; GAME OVER          STA ACTION          RTSDOBULL    LDX #0          LDA WBULLET+0          BEQ SECONB          LDX #5SECONB    LDA Y          CMP #32          BCC FLIP          BIT DIRECTION+0          BMI PANT          LDA X          CMP #&94          BCS FLIP          BCC HELOPANT      LDA X          CMP #&1C          BCC FLIPHELO      BIT DIRECTION+0          BMI MINYOR          LDA X ; YOUR CORD          CLC          ADC #0        ;12          BNE LEFTATNMINYOR    LDA X          SEC          SBC #20       ;28LEFTATN   STA BULLETX+0,X          LDA Y+0        ; YOUR CORD          CLC          ADC #10          STA BULLETY+0,X          LDA DIRECTION+0          STA DBULLET+0,X          LDA #255          STA WBULLET+0,X          LDA Y+0          JMP HERKWORKMEM   LDA DIRECTION+0,X          STA DBULLET+0,X          LDA #128          STA WBULLET+0,X          LDA Y+0,X      ; YOUR CORD          CLC          ADC #4          STA BULLETY+0,XHERK      SEC          SBC #30        ; HOW MANY          LSR A          LSR A          LSR A          TAY          LDA #0  ; WORK OUT SCMEM X,Y          STA TEMP+1          LDA BULLETX+0,X ; X CORD          AND #%11111100          ASL A           ; DIV4*8          ROL TEMP+1      ; =AND &FC *2          CLC          ADC M320L,Y          STA BULLETML,X; SCREEN LOW          LDA TEMP+1          ADC M320H,Y          STA BULLETMH,X; SCREEN HIGH          JMP EWBULLON    LDX #0        ; NEMESIS 0          JSR EW          LDX #5        ; NEMESIS 1          JSR EW          LDX #1        ; ALIEN 0          JSR EW          LDX #2        ; ALIEN 1          JSR EW          LDX #3        ; ALIEN 2          JSR EW          LDX #4        ; ALIEN 3EW        LDA WBULLET,X ; ANY THERE          BNE THERE1    ; YES THERE          RTSTHERE1    LDA BULLETML,X          STA MIKE          LDA BULLETMH,X          STA MIKE+1          LDY #0          LDA (MIKE),Y          STA BEHIND1,X          LDA #%11111111          STA (MIKE),Y          INY          CPY #8          BNE COLO1          LDA MIKE          CLC          ADC #< 320-8          STA MIKE          LDA MIKE+1          ADC #> 320-8          STA MIKE+1COLO1     LDA (MIKE),Y          STA BEHIND2,X          LDA #%11111111          STA (MIKE),Y          RTSBULLOFF   LDX #4        ; ALIEN 3          JSR ISTHER          LDX #3        ; ALIEN 2          JSR ISTHER          LDX #2        ; ALIEN 1          JSR ISTHER          LDX #1        ; ALIEN 0          JSR ISTHER          LDX #5        ; NEMESIS 1          JSR ISTHER          LDX #0        ; NEMESIS 0ISTHER    LDA WBULLET,X          BNE THERE2          RTSTHERE2    LDA BULLETML,X          STA MIKE          LDA BULLETMH,X          STA MIKE+1          LDY #0          LDA BEHIND1,X          STA (MIKE),Y          INY          CPY #8          BNE COLO2          LDA MIKE          CLC          ADC #< 320-8          STA MIKE          LDA MIKE+1          ADC #> 320-8          STA MIKE+1COLO2     LDA BEHIND2,X          STA (MIKE),Y          LDA DBULLET,X          BMI FACELEFT          LDA BULLETML,X          CLC          ADC #8          STA BULLETML,X          BCC NOHIO1          INC BULLETMH,XNOHIO1    LDA BULLETX,X          CLC          ADC #4          CMP #160          BCC FOFF          BCS TIOFFACELEFT  LDA BULLETML,X          SEC          SBC #8          STA BULLETML,X          BCS NOHIO2          DEC BULLETMH,XNOHIO2    LDA BULLETX,X          SEC          SBC #4          CMP #200          BCC FOFFTIOF      LDA #0        ; TURN OFF          STA WBULLET,X ; BULLETBOO       RTSFOFF      STA BULLETX,X          CLC          ADC #12          STA BULLETX2,X          CPX #0        ; NEMESIS          BEQ DOALLALNS ; BULLET          CPX #5        ; NEMESIS          BEQ DOALLALNS ; 2nd BULLET          LDY #0        ; OTHERWISE          JSR DETECTION ; ENEMYS          BCC BOO          LDA #64+9     ; OUCH ! 1          STA FG2          LDA ENERGY          CLC          ADC #1          CMP #56*4+1          BCS POO          STA ENERGYPOO       JMP TIOF          ; NEMESIS     ; ????          ; HAS BEEN HITDOALLALNS LDY #1          JSR DETECTION          BCS GOTONE          INY           ; 2          JSR DETECTION          BCS GOTONE          INY           ; 3          JSR DETECTION          BCS GOTONE          INY           ; 4          JSR DETECTION          BCC BOOGOTONE    LDA ACTION,Y          CMP #8          BEQ ZOMBEE          CMP #4        ; IF DOING          BCS BOO       ; THESE          LDA #64+4     ; SPLAT 2          STA FG0          LDA #64+13          STA FG1          LDA HITS-1,Y  ; WHAT ONE          CLC          ADC #1          CMP #1        ; 2 HITS          BCS ITSDEAD   ; FOR WARRIORSTOK      STA HITS-1,Y          JMP TIOFITSDEAD   LDA #&10      ; 10 TO SCORE          JSR SADD          SED          LDA TOKILL          SEC          SBC #1          BCC AMOATN2          STA TOKILLAMOATN2   CLD          LDA DIRECTION+0,Y          CMP DBULLET+0,X          BNE GOODONE          EOR #255          STA DIRECTION+0,YGOODONE   LDA #4        ; WARRIOR DIEFLABB     STA ACTION+0,Y          LDA #0          STA HITS-1,Y          STA COUNT+0,Y          JMP TIOFZOMBEE    LDA #64+5          STA FG0          LDA #64+12          STA FG1          LDA HITS-1,Y          CLC          ADC #1          CMP #4        ; 4 HITS          BCC STOK      ; FOR ZOMBIE          LDA #&80      ; 20 TO SCORE          JSR SADD          LDA DIRECTION+0,Y          EOR #-1          STA DIRECTION+0,Y          LDA #9       ; ZOMBIE DIE          BNE FLABBDETECTION LDA BULLETX2,X ; SILLY          CMP X,Y       ; SOTWARE          BCC LESSTHAN1          LDA X,Y          CLC          ADC #12       ; PIXELS X          CMP BULLETX2,X          BCS GREATERNO_HIT    RTSLESSTHAN1 ADC #2        ; PIXELS X          CMP X,Y          BCC NO_HITGREATER   LDA BULLETY,X          CMP Y,Y          BCC LESSTHAN2          LDA Y,Y          CLC   ; 6          ADC #42-10    ; PIXELS Y          CMP BULLETY,X          RTSLESSTHAN2 ADC #1        ; PIXELS Y          CMP Y,Y          RTS          ; SET ALL SPRITE POINTERS          ; TO BLANK AND WIPE THEM OUTCLEARSPR  LDX #0        ; WIPE          LDA #BLNEM    ; OUT NEMESIS          JSR PLOTNEM   ; TOP          LDX #1        ; ALIEN 0          LDA #BLSPR    ; TOP          JSR PLOTSPR          LDX #2        ; ALIEN 1          LDA #BLSPR    ; TOP          JSR PLOTSPR          LDX #3        ; ALIEN 2          LDA #BLSPR    ; TOP          JSR PLOTSPR          LDX #4        ; ALIEN 3          LDA #BLSPR    ; TOP          JSR PLOTSPR          LDX #5        ; NEMESIS          LDA #BLNEM    ; BOTTOM          JSR PLOTNEM          LDX #6        ; ALIEN 0          LDA #BLSPR    ; BOTTOM          JSR PLOTSPR          LDX #7        ; ALIEN 1          LDA #BLSPR    ; BOTTOM          JSR PLOTSPR          LDX #8        ; ALIEN 2          LDA #BLSPR    ; BOTTOM          JSR PLOTSPR          LDX #9        ; ALIEN 3          LDA #BLSPR    ; BOTTOM          JSR PLOTNEM          LDX #10       ; NEMESIS          LDA #BLNEM    ; SIDE          JSR PLOTSPR          LDX #11       ; SIDE 0          LDA #BLSPR          JSR PLOTSPR          LDX #12       ; SIDE 1          LDA #BLSPR          JMP PLOTNEM          ; **********************          ; * ALL ALIEN MOVEMENT *          ; *      ROUTINES      *          ; **********************AACTTABL  DB < WWALK    ; 0          DB < WFALL    ; 1          DB < WJUMP    ; 2          DB < WBANG    ; 3          DB < WDIE     ; 4          DB < WFALLD   ; 5          DB < TWITCH   ; 6          DB < TOZOMB   ; 7          DB < ZWALK    ; 8          DB < ZDIE     ; 9          DB < PBOD     ; 10          DB < AALIEN   ; 11          DB < FALLA    ; 12AACTTABH  DB > WWALK    ; WARRIOR WALK          DB > WFALL    ; WARRIOR FALL          DB > WJUMP    ; WARRIOR JUMP          DB > WBANG    ; WARRIOR FIRE          DB > WDIE     ; WARRIOR DIE1          DB > WFALLD   ; FALLING DIE          DB > TWITCH   ; BEFORE BURSTS          DB > TOZOMB   ; CHANGE TO ZOMBIE          DB > ZWALK    ; ZOMBIE WALK          DB > ZDIE     ; ZOMBIE DIE          DB > PBOD     ; PLOT BODY          DB > AALIEN   ; ANOTHER AL.          DB > FALLA    ; WARRIORALIENS    LDX #1          JSR ALIENUP          LDX #2          JSR ALIENUP          LDX #3          JSR ALIENUP          LDX #4ALIENUP   LDY ACTION+0,X          LDA AACTTABL,Y          STA MOVEM+1          LDA AACTTABH,Y          STA MOVEM+2MOVEM     JSR &FFFF          JSR HITNEMMY          BCC NHITTH          LDA ACTION+0,X          CMP #8        ; ZOMBIE WALK          BNE NOSOEF          LDA #64+5     ; SPLAT 3          STA FG0          LDA #64+12          STA FG1          LDA ENERGY          CLC          ADC #1          CMP #56*4+1          BCS NOSOEF          STA ENERGYNOSOEF    LDA ENERGY          CLC          ADC #1          CMP #56*4+1          BCS NHITTH          STA ENERGYNHITTH    CPX #3          BCS RET2          LDA DIRECTION+0,X          BPL FACRI5          LDA X+0,X          SEC          SBC #12          JMP STTI4FACRI5    LDA X+0,X          CLC          ADC #12STTI4     STA SIDEX+0,XRET2      LDA VALUES+5,X ; ADD 5          STA ATEMP      ; SPR NUMBER          LDA SPRITEV1+0,X          STA ATEMP+1    ; POINTER          STX ATEMP+2          LDA SPRITEV0+0,X          JSR PLOTSPR          LDX ATEMP          LDA ATEMP+1          JSR PLOTSPR          LDY ATEMP+2          CPY #3          BCS RET          LDX VALUES+10,Y          LDA SIDEB+0,Y          JMP PLOTSPRRET       RTSHITNEMMY  LDA ACTION+0  ; IF DUCK          CMP #3          BNE PASE          LDA Y+0          CLC          ADC #13          STA YTEMP          LDA #42-7-13  ; -6          STA ATEMP          JMP STRDETPASE      LDA Y+0          STA YTEMP          LDA #42-7     ; -6          STA ATEMPSTRDET    LDA X+0,X      ; SILLY          CMP X+0       ; SOTWARE          BCC LESSTHAN6          LDA X+0          CLC          ADC #12       ; PIXELS X          CMP X+0,X          BCS GREATER6NO_HIT6   RTSLESSTHAN6 ADC #12       ; PIXELS X          CMP X+0          BCC NO_HIT6GREATER6  LDA Y+0,X          CMP YTEMP          BCC LESSTHAN7          LDA YTEMP          CLC          ADC ATEMP     ; PIXELS Y          CMP Y+0,X          RTSLESSTHAN7 ADC #42-7     ; PIXELS Y          CMP YTEMP          RTS          ; DIRECTION=0 FACEING RIGHT          ; ACTION 0WWALK     JSR AWALK          JSR RANDOM          CMP #"M"          BEQ FONZE          CMP #"A"          BNE SODITFONZE     LDA #2          BNE FLAPPERSODIT     LDA WBULLET+0,X          BNE FONZE2          ;CMP #"D"          ;BEQ FIREE          ;CMP #"L"          ;BEQ FIREE          CMP #"T"          BNE FONZE2FIREE     LDA #3          BNE FLAPPERFONZE2    JSR AWHERE     ; CHECK          CMP #255          BEQ OPLAT      ; ON PLAT          JSR RANDOM          AND #3          BEQ REVD          ;CMP #3         ; TAKE          ;BEQ REVD       ; OUTFLAPPER   STA ACTION+0,X ; FALL JUMP          LDA #0          STA COUNT+0,X          RTSREVD      LDA DIRECTION+0,X          EOR #255      ; REVERSED          STA DIRECTION+0,XOPLAT     RTSAWALK     LDA FRAME+0,X          CLC          ADC #1          CMP #12       ; 6          BCC ASM          LDA #0ASM       STA FRAME+0,X          TAY          LDA WWALKSTT,Y          STA SPRITEV0+0,X          LDA WWALKSTB,Y          STA SPRITEV1+0,X          LDA DIRECTION+0,X          BMI AWALK2    ; GOING RIGHT          LDA X+0,X          CLC          ADC WWALKTAB,Y          CMP #148+12          BCS REVD          STA X+0,X          RTSAWALK2    LDA X+0,X          SEC          SBC WWALKTAB,X          CMP #12          BCC REVD          STA X+0,X          RTS          ; ACTION 1WFALL     LDY COUNT+0,X          LDA Y+0,X          CLC          ADC DROPTAB,Y          STA SPARE          CMP #2*8          BCC NOYET2          CMP #18*8          BCS DELETI2          JSR LOOKUP2    ; SEE IF NEW          CMP #255          BNE NOYET2          LDA SPARE          AND #&F8          STA Y+0,X          LDA #0         ; WALK          STA ACTION+0,X ; ACTION          LDA #0          STA COUNT+0,X          RTSNOYET2    LDA SPARE          STA Y+0,X          INC COUNT+0,X          JMP AWALKDELETI2   LDA #12          STA ACTION+0,X          RTS          ; ACTION 2WJUMP     LDY COUNT+0,X          LDA Y+0,X          SEC          SBC JUMPTAB,Y          STA Y+0,X          INC COUNT+0,X          LDA COUNT+0,X          CMP #8          BNE SWARVE2          LDA #1        ; FALL          STA ACTION+0,X          STA COUNT+0,XCANT2     RTSSWARVE2   JMP AWALK          ; ACTION 3WBANG     LDA WBULLET+0,X          BNE CANT2          LDA #0          STA ACTION+0,X          LDA DIRECTION+0,X          BMI PANT2          LDA X+0,X          CMP #&94          BCS CANT2          BCC HELOOPANT2     LDA X+0,X          CMP #&1C          BCC CANT2HELOO     LDA DIRECTION+0,X          BMI MINYOR2          LDA X+0,X          BNE LEFTATN2MINYOR2   LDA X+0,X          SEC          SBC #12LEFTATN2  STA BULLETX+0,X          JSR WORKMEM          JMP AWALK          ; ACTION 4WDIE      CPX #3          BCC WDIE1          LDY COUNT+0,X ; TWO SPRITES          LDA WDIESTT2,Y          STA SPRITEV0+0,X          LDA WDIESTB2,Y          STA SPRITEV1+0,X          LDA DIRECTION+0,X          BPL FACRI6R          LDA X+0,X          CLC          ADC DIEMOVTX2,Y          CMP #148+8          BCS OTHERW          STA X+0,X          JMP STTI6RFACRI6R   LDA X+0,X          CMP #13          BCC OTHERW          SEC          SBC DIEMOVTX2,Y          STA X+0,XSTTI6R    LDA Y+0,X          CLC          ADC DIEMOVTY2,Y          STA Y+0,X          INY          CPY #9          BNE NEXMOV9R          LDA #5         ; GO TO          STA ACTION+0,X ; FALL          LDY #0NEXMOV9R  STY COUNT+0,X          RTSOTHERW    LDA DIRECTION+0,X          EOR #255          STA DIRECTION+0,X          RTSWDIE1     LDY COUNT+0,X ; THREE SPRITES          LDA WDIESTT1,Y          STA SPRITEV0+0,X          LDA WDIESTB1,Y          STA SPRITEV1+0,X          LDA WDIESTS1,Y          STA SIDEB+0,X          LDA DIRECTION+0,X          BPL FACRI6          LDA X+0,X          CLC          ADC DIEMOVTX1,Y          CMP #148+8    ;+12          BCS OTHERW          STA X+0,X          JMP STTI6FACRI6    LDA X+0,X          CMP #13          BCC OTHERW          SEC          SBC DIEMOVTX1,Y          STA X+0,XSTTI6     LDA Y+0,X          CLC          ADC DIEMOVTY1,Y          STA Y+0,X          LDA #21          STA SIDEY+0,X          INY          CPY #6          BCC NEXMOV9          BEQ STOPHER          CPY #9          BCC NEXMOV9    ; PLOT BODY          LDA #10          STA ACTION+0,X          RTSSTOPHER   LDA #5         ; GO TO          STA ACTION+0,X ; FALL          LDY #0NEXMOV9   STY COUNT+0,X          RTS          ; ACTION 5WFALLD    CPX #3          BCC WFALL1          LDY COUNT+0,X ; TWO SPRITES          LDA DIRECTION+0,X          BPL TAKEAWAY1          LDA X+0,X          CLC          ADC #2          CMP #148+12          BCS ATEDGE          BCC NTHRHTAKEAWAY1 LDA X+0,X          SEC          SBC #2          CMP #13          BCC ATEDGE          BCS NTHRHWFALL1    LDY COUNT+0,X ; THREE SPRITES          LDA DIRECTION+0,X          BPL TAKEAWAY          LDA X+0,X          CLC          ADC #2          CMP #148+4    ;+12          BCS ATEDGE          BCC NTHRHTAKEAWAY  LDA X+0,X          SEC          SBC #2          CMP #13+12          BCC ATEDGENTHRH     STA X+0,XATEDGE    LDA Y+0,X          CLC          ADC DROPTAB,Y          STA SPARE          CMP #2*8          BCC NOYET3          CMP #18*8          BCS DELETI          JSR LOOKUP2    ; SEE IF NEW          CMP #255          BNE NOYET3          LDA SPARE          AND #&F8          STA Y+0,X          LDA #10        ; PLOT BODY          STA ACTION+0,X ; ACTION          RTSNOYET3    LDA SPARE          STA Y+0,X          INC COUNT+0,X          RTSDELETI    LDA #12          STA ACTION+0,X          RTS          ; ACTION 6TWITCH    INC COUNT+0,X          LDA COUNT+0,X          CMP #60       ; HOW MANY          BNE STHERY          LDA #0          STA COUNT+0,X          LDA #7          STA ACTION+0,X          RTSSTHERY    CPX #3          BCS TWITCH1          JSR RANDOM          AND #%00001100          LSR A          LSR A          TAY          LDA CHANGET2+0,Y          STA SPRITEV0+0,X          LDA CHANGEB2+0,Y          STA SPRITEV1+0,X          LDA CHANGES2,Y          STA SIDEB+0,XSOEFX     CPY #1          BNE NOSSE          LDA #64+10          STA FG0          LDA #64+13          STA FG1NOSSE     RTSTWITCH1   JSR RANDOM          AND #%00001100          LSR A          LSR A          TAY          LDA CHANGET1,Y          STA SPRITEV0+0,X          LDA CHANGEB1,Y          STA SPRITEV1+0,X          JMP SOEFX          ; ACTION 7TOZOMB    LDA TOGGLE-1,X          EOR #-1          STA TOGGLE-1,X          BEQ OPLAT2          CPX #3          BCC TOZOMB1          LDY COUNT+0,X          LDA CHANGET1,Y          STA SPRITEV0+0,X          LDA CHANGEB1,Y          STA SPRITEV1+0,X          INY          STY COUNT+0,X          CPY #7          BEQ TOSEFX          CPY #16          BNE NEXMOV7ZOMWL     LDA #BLSPR          STA SIDEB+0,X          LDA #8         ; ZOMBIE          STA ACTION+0,X ; WALKING          LDY #0          STY MOVES-1,XNEXMOV7   STY COUNT+0,X          RTSTOSEFX    LDA #64+4          STA FG0          LDA #64+13          STA FG1          RTSTOZOMB1   LDY COUNT+0,X          LDA CHANGET2,Y          STA SPRITEV0+0,X          LDA CHANGEB2,Y          STA SPRITEV1+0,X          LDA CHANGES2,Y          STA SIDEB+0,X          INY          CPY #25          BEQ ZOMWL          STY COUNT+0,X          CPY #5          BNE DESD          LDA #64+7          STA FG2DESD      RTS          ; ACTION 8          ; DIRECTION=0 FACEING RIGHTZWALK     JSR EWALK          JSR AWHERE      ; CHECK          CMP #255          BEQ OPLAT2      ; ON PLAT          LDA DIRECTION+0,X          EOR #255      ; REVERSED          STA DIRECTION+0,X          INC MOVES-1,X          LDA MOVES-1,X          CMP #5          BNE OPLAT2          LDA #9        ; ZOMBIE DIE          STA ACTION+0,X          LDA #0          STA COUNT+0,XOPLAT2    RTSEWALK     LDA FRAME+0,X          CLC          ADC #1          CMP #7          BCC ASM2          LDA #0ASM2      STA FRAME+0,X          TAY          LDA ZWALKSTT,Y          STA SPRITEV0+0,X          LDA ZWALKSTB,Y          STA SPRITEV1+0,X          LDA DIRECTION+0,X          BMI AWALK3    ; GOING RIGHT          LDA X+0,X          CLC          ADC ZWALKTAB,Y          CMP #148+12          BCS JREVD          STA X+0,X          RTSAWALK3    LDA X+0,X          CMP #12          BEQ JREVD          SEC          SBC ZWALKTAB,X          STA X+0,X          RTS          ; ACTION 9ZDIE      LDA TOGGLE-1,X          EOR #-1          STA TOGGLE-1,X          BEQ OPLAT2          LDY COUNT+0,X          LDA ZDIESTT,Y          STA SPRITEV0+0,X          LDA ZDIESTB,Y          STA SPRITEV1+0,X          LDA #0          STA SIDEY+0,X          INY          STY COUNT+0,X          CPY #10          BEQ SPLL          CPY #15          BNE NEXTMOV8          LDY #12        ; NEW          STY ACTION+0,X ; WARRIORNEXTMOV8  RTSSPLL      LDA #64+1          STA FG0          RTSJREVD     LDA DIRECTION+0,X          EOR #255          STA DIRECTION+0,X          RTS          ; ACTION 10PBOD      STX XTEMP          LDA #BLSPR       ; BL          STA SPRITEV0+0,X          STA SPRITEV1+0,X          STA SIDEB+0,X          LDA Y+0,X          LSR A          LSR A          LSR A          TAY          DEY          DEY          LDA DIRECTION+0,X          BPL PERF          CPX #3        ; DAVE          BCC MINDER          LDA X+0,X          CLC          ADC #4          JMP SPLOMINDER    LDA X+0,X          SEC          SBC #4          JMP SPLOPERF      LDA X+0,X          SECSPLO      SBC #12          LSR A          LSR A          TAX          CPX #39          BCC UIR          LDX #0UIR       JSR MEMXY          LDX XTEMP     ; 1 & 2          LDY WHONE-1,X          LDA X+0,X          STA LASTX,Y          LDA Y+0,X          STA LASTY,Y          CPX #3        ; BIG BODYIES          BCS SMONES          LDY #(5*8)-1          LDA DIRECTION+0,X          BMI REVERDSUCKT2    LDA BODYLE2,Y          STA SBACK1+1SBACK1    LDA SBACKD          AND (TEMP),Y          ORA BODYLE2,Y          STA (TEMP),Y          DEY          BPL SUCKT2          JMP INTOMAPREVERD    LDA RBODYLE2,Y          STA RSBACK1+1RSBACK1   LDA SBACKD          AND (TEMP),Y          ORA RBODYLE2,Y          STA (TEMP),Y          DEY          BPL REVERDINTOMAP   LDY #0          JSR C          INY          JSR C          JMP LASTFEWSMONES    LDY #(3*8)-1SUCKT     LDA BODYLE1,Y          STA SBACK2+1SBACK2    LDA SBACKD          AND (TEMP),Y          ORA BODYLE1,Y          STA (TEMP),Y          DEY          BPL SUCKTLASTFEW   INY           ; 0          JSR C          INY           ; 1          JSR C          INY           ; 2C         LDA #%00000000; NYBBLE          STA (TEMP2),Y          LDA #%01101100; COLOUR          STA (TEMP3),Y          LDA #255      ; IN MAP          STA (TEMP4),Y          LDA #11          STA ACTION+0,X          RTS          ; ANOTHER ALIEN          ; DELAY          ; BRING ON ZOMBIE/WORRIOR ?          ; ACTION 11AALIEN    JSR RANDOM          CMP #230          BCS ZOXS          LDA FACE          SECSK        SBC SEEDD+1          BCS SK          ADC SEEDD+1          BNE FALLAZOXS      LDY WHONE-1,X          LDA LASTX,Y          STA X+0,X          ORA LASTY,Y          BEQ FALLA          LDA LASTY,Y          STA Y+0,X          LDA #6         ; TWITCH          STA ACTION+0,X ; ZOMBIE          LDA #0          STA COUNT+0,X          RTS          ; BRING ON WARRIOR ONLY          ; ACTION 12FALLA     LDA #1        ; FALL          STA ACTION+0,X          STA COUNT+0,X          LDA DIRTV+0,X          STA DIRECTION+0,X          JSR RANDOM          AND #3          TAY          LDA ALIENPOST,Y          STA X+0,X          LDA #0          STA Y+0,X          CPX #3          BCS SHIT          LDA #BLSPR          STA SIDEB+0,XSHIT      RTSLASTX     DB 0,0LASTY     DB 0,0WHONE     DB 0,0,1,1DIRTV     DB 0,255,255,0ALIENPOST DB 0+14,45+12,90+12,172-14BODYLE1   DB &C,&3F,&3F,&FF,&FF,&FF,&FF,&3C          DB &54,&77,&FF,&FF,&77,&77,&77,&FC          DB &C0,&F0,&F0,&FC,&FC,&FC,&FC,&F0BODYLE2   DB &0,&3,&E,&E,&3F,&D,&F,&3F          DB &3C,&EB,&EB,&9F,&77,&DE,&FF,&CF          DB &0,&F0,&FF,&FF,&AB,&96,&75,&FF          DB &F,&FE,&AF,&9F,&FC,&EB,&EB,&FC          DB &0,&C0,&C0,&70,&F0,&FC,&FF,&FFRBODYLE2  DB &0,&3,&3,&D,&F,&3F,&FF,&FF          DB &F0,&BF,&FA,&F6,&3F,&EB,&EB,&3F          DB &0,&F,&FF,&FF,&EA,&96,&5D,&FF          DB &3C,&EB,&EB,&F6,&DD,&B7,&FF,&F3          DB &0,&C0,&B0,&B0,&FC,&70,&F0,&FC          INFO "R.GAME "